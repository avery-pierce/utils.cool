{"version":3,"file":"component---src-pages-timer-js-df40240acf67ffe1f148.js","mappings":"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","sources":["webpack://utils-cool/./src/components/Layout.js","webpack://utils-cool/./src/components/CoolMobileFullscreenLayout.js","webpack://utils-cool/./src/components/CoolText.js","webpack://utils-cool/./src/pages/timer.js","webpack://utils-cool/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://utils-cool/./src/hooks/useCurrentDate.js"],"sourcesContent":["import React from 'react'\nimport { Link } from 'gatsby'\n\nconst Layout = ({children}) => {\n  return (\n    <>\n      <nav>\n        <Link to='/'>Home</Link>\n        <Link to='/timer'>Timer</Link>\n      </nav>\n      <main>\n        {children}\n      </main>\n    </>\n  )\n}\n\nexport default Layout","import React from \"react\"\nimport coolGradient from \"./coolGradient\"\n\nexport default function CoolMobileFullscreenLayout({ children, style }) {\n  return (\n    <div style={{ \n      display: \"flex\", \n      position: \"fixed\", \n      top: 0, \n      left: 0, \n      bottom: 0, \n      right: 0, \n      flex: 1, \n      flexDirection: \"column\",\n      ...style,\n    }}>\n      {children}\n    </div>\n  )\n}","import React from \"react\"\n\nexport function CoolTitle({ children, style }) {\n  return (\n    <h1 style={{\n      fontFamily: \"Monoton\",\n      textTransform: \"uppercase\",\n      fontWeight: \"normal\",\n      fontSize: \"30pt\",\n      color: \"#FFF\",\n      ...style\n    }}>{children}</h1>\n  )\n}\n\nexport default function CoolText({ children, style, bold }) {\n  return (\n    <span style={{\n      fontFamily: \"Roboto\",\n      fontWeight: bold ? \"500\" : \"normal\",\n      color: \"#FFF\",\n      ...style,\n    }}>\n      {children}\n    </span>\n  )\n}","import React, { useCallback, useState } from 'react';\nimport Layout from '../components/Layout'\nimport CoolMobileFullscreenLayout from '../components/CoolMobileFullscreenLayout';\nimport useCurrentDate from \"../hooks/useCurrentDate\"\nimport CoolText, { CoolTitle } from '../components/CoolText';\n\nconst Timer = () => {\n  const [startDate, setStartDate] = useState(null)\n  const [stopDate, setStopDate] = useState(null)\n  const [laps, setLaps] = useState([])\n  \n  const elapsed = useSecondsElapsed(startDate, stopDate)\n  const onStart = useCallback(() => {\n    setStartDate(new Date()) \n    setStopDate(null)\n    setLaps([])\n  }, [])\n\n  const onStop = useCallback(() => {\n    setStopDate(new Date())\n  }, [])\n\n  const onTapLap = useCallback(() => {\n    setLaps((prevLaps) => {\n      return [\n        ...prevLaps,\n        new Date()\n      ]\n    })\n  }, [])\n\n  const isTimerRunning = (!!startDate && !stopDate)\n\n  return (\n    <CoolMobileFullscreenLayout>\n      <div style={{ padding: \"1em\", flexGrow: 1 }}>\n      </div>\n      <div style={{ padding: \"1em\" }}>\n          {laps.map(lapTime => (\n              <CoolText style={{display: \"block\"}}>{deltaS(startDate, lapTime)}s</CoolText>\n          ))}\n      </div>\n      <div style={{ padding: \"1em\" }}>\n        <CoolText bold style={{\n          display: \"block\",\n          textAlign: \"center\",\n          fontSize: \"60pt\",\n        }}>{formatTimeInterval(elapsed)}</CoolText>\n      </div>\n      <StopwatchControls\n        onStart={onStart}\n        onStop={onStop}\n        onLap={onTapLap}\n        isTimerRunning={isTimerRunning} />\n    </CoolMobileFullscreenLayout>\n  )\n}\n\nconst secondFormatter = new Intl.NumberFormat(\"en-US\", { \n  minimumIntegerDigits: 2, \n  minimumFractionDigits: 2, \n  maximumFractionDigits: 2,\n})\n\nfunction formatTimeInterval(seconds) {\n  const minutes = Math.floor(seconds / 60);\n  const remainingSeconds = seconds % 60;\n  const formattedSeconds = secondFormatter.format(remainingSeconds)\n  return `${minutes}:${formattedSeconds}`\n}\n\nfunction StopwatchControls({ onStart, onStop, onLap, isTimerRunning }) {\n  return(\n    <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n      {!isTimerRunning && <CoolButton onClick={onStart} style={{ flex: 1, margin: \"1em\", backgroundColor: \"green\" }}>Start</CoolButton>}\n      {isTimerRunning && <CoolButton onClick={onLap} style={{ flex: 1, margin: \"1em\", backgroundColor: \"blue\" }}>Lap</CoolButton>}\n      <CoolButton disabled={!isTimerRunning} onClick={onStop} style={{ flex: 1, margin: \"1em\", marginLeft: 0, backgroundColor: \"red\" }}>Stop</CoolButton>\n    </div>\n  )\n}\n\nfunction CoolButton({ children, onClick, style, disabled, ...props}) {\n  return (\n    <button onClick={onClick} style={{\n      height: \"7em\",\n      borderRadius: 8,\n      fontSize: \"15pt\",\n      border: \"none\",\n      textTransform: \"uppercase\",\n      fontWeight: \"bold\",\n      opacity: disabled ? 0.4 : 1.0,\n      ...style,\n    }}>{children}</button>\n  )\n}\n\nfunction deltaS(date1, date2) {\n  const deltams = Math.abs(date1.getTime() - date2.getTime())\n  return deltams / 1000\n}\n\nfunction useSecondsElapsed(startDate, stopDate) {\n  const currentDate = useCurrentDate(30)\n\n  if (!startDate) {\n    return 0;\n  }\n\n  const compareDate = stopDate || currentDate\n  const ms = compareDate.getTime() - startDate.getTime()\n  return ms / 1000\n}\n\nexport default Timer;","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import { useState, useEffect } from \"react\"\n\nexport default function useCurrentDate(refreshRateHz = 60) {\n  const [date, setDate] = useState(new Date())\n\n  useEffect(() => {\n    const handle = setInterval(() => {\n      setDate(new Date())\n    }, 1000/refreshRateHz)\n\n    return () => clearInterval(handle)\n  }, [refreshRateHz])\n\n  return date\n}"],"names":["children","to","CoolMobileFullscreenLayout","style","display","position","top","left","bottom","right","flex","flexDirection","CoolText","bold","fontFamily","fontWeight","color","secondFormatter","Intl","NumberFormat","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","StopwatchControls","onStart","onStop","onLap","isTimerRunning","CoolButton","onClick","margin","backgroundColor","disabled","marginLeft","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","height","borderRadius","fontSize","border","textTransform","opacity","seconds","minutes","remainingSeconds","formattedSeconds","useState","startDate","setStartDate","stopDate","setStopDate","laps","setLaps","elapsed","currentDate","refreshRateHz","Date","date","setDate","useEffect","handle","setInterval","clearInterval","useCurrentDate","getTime","useSecondsElapsed","useCallback","onTapLap","prevLaps","padding","flexGrow","map","lapTime","date1","date2","Math","abs","textAlign","floor","format"],"sourceRoot":""}