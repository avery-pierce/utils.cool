"use strict";(self.webpackChunkutils_cool=self.webpackChunkutils_cool||[]).push([[556],{563:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var r=n(785),a=n(294);function i(e){var t=e.children,n=e.style;return a.createElement("div",{style:Object.assign({display:"flex",position:"fixed",top:0,left:0,bottom:0,right:0,flex:1,flexDirection:"column"},n)},t)}function l(e){var t=e.children,n=e.style,r=e.bold;return a.createElement("span",{style:Object.assign({fontFamily:"Roboto",fontWeight:r?"500":"normal",color:"#FFF"},n)},t)}function o(e,t,n,r){void 0===n&&(n=function(e){return e}),void 0===r&&(r=function(e){return e});var i=(0,a.useMemo)((function(){return function(e){return null!==window.localStorage.getItem(e)}(e)?r(function(e){var t=window.localStorage.getItem(e);return JSON.parse(t)}(e)):t}),[e,t]),l=(0,a.useState)(i),o=l[0],c=l[1],u=(0,a.useCallback)((function(t){var r=n(t);!function(e,t){var n=JSON.stringify(t);window.localStorage.setItem(e,n)}(e,r),c(t)}),[]),m=(0,a.useCallback)((function(){!function(e){window.localStorage.removeItem(e)}(e)}),[]);return[o,u,m]}var c=function(e){return null===e?null:e.getTime()},u=function(e){return new Date(e)},m=new Intl.NumberFormat("en-US",{minimumIntegerDigits:2,minimumFractionDigits:2,maximumFractionDigits:2});function s(e){var t=e.onStart,n=e.onStop,r=e.onLap,i=e.isTimerRunning;return a.createElement("div",{style:{display:"flex",flexDirection:"row"}},!i&&a.createElement(d,{onClick:t,style:{flex:1,margin:"1em",backgroundColor:"green"}},"Start"),i&&a.createElement(d,{onClick:r,style:{flex:1,margin:"1em",backgroundColor:"blue"}},"Lap"),a.createElement(d,{disabled:!i,onClick:n,style:{flex:1,margin:"1em",marginLeft:0,backgroundColor:"red"}},"Stop"))}function d(e){var t=e.children,n=e.onClick,r=e.style,i=e.disabled;return a.createElement("button",{onClick:n,style:Object.assign({height:"7em",borderRadius:8,fontSize:"15pt",border:"none",textTransform:"uppercase",fontWeight:"bold",opacity:i?.4:1},r)},t)}function f(e){var t=e.index,n=e.timestamp,r=e.durationSeconds,i=e.deltaSeconds;return a.createElement("div",{style:{display:"flex",flexDirection:"row",margin:"0.6em auto"}},a.createElement("div",{style:{paddingRight:"0.4em",marginRight:"0.4em",borderRight:"solid 0.5px rgba(0, 0, 0, 0.5)"}},a.createElement(l,{style:{color:"black"}},t+1)),a.createElement("div",{style:{display:"flex",flexDirection:"column"}},a.createElement("span",{style:{fontSize:"1.2em"}},a.createElement(l,{style:{color:"black",fontWeight:"bold",marginRight:"0.4em"}},r,"s"),a.createElement(l,{style:{color:"black"}},"(",a.createElement(l,{style:{color:i>0?"red":"green"}},i),")")),a.createElement(l,{style:{color:"black",opacity:.6}},n.toLocaleString())))}var g=function(){var e,t,n,d,g,p,b,v=o("timer.startDate",null,c,u),y=v[0],k=v[1],x=o("timer.stopDate",null,c,u),E=x[0],S=x[1],w=o("timer.laps",[],(t=c,function(e){return e.map(t)}),(e=u,function(t){return t.map(e)})),h=w[0],C=w[1],D=function(e,t){var n=function(e){void 0===e&&(e=60);var t=(0,a.useState)(new Date),n=t[0],r=t[1];return(0,a.useEffect)((function(){var t=setInterval((function(){r(new Date)}),1e3/e);return function(){return clearInterval(t)}}),[e]),n}(30);if(!e)return 0;return((t||n).getTime()-e.getTime())/1e3}(y,E),R=(0,a.useCallback)((function(){k(new Date),S(null),C([])}),[]),T=(0,a.useCallback)((function(){S(new Date)}),[]),I=(0,a.useCallback)((function(){var e=[].concat((0,r.Z)(h),[new Date]);C(e)}),[h]),F=(n=y,h.map((function(e,t,r){var a=0===t?n:r[t-1],i=e.getTime()-a.getTime();return{date:e,duration:i}})).map((function(e,t,n){if(0===t)return Object.assign({},e,{delta:null});var r=n[t-1],a=e.duration-r.duration;return Object.assign({},e,{delta:a})}))),O=!!y&&!E;return a.createElement(i,null,a.createElement("div",{style:{flexGrow:1}}),a.createElement("div",{style:{padding:"1em",flexShrink:2}},a.createElement("div",{style:{background:"rgba(233, 233, 233, 0.65)",boxShadow:"0px 4px 12px rgba(0, 0, 0, 0.2)",borderRadius:8,padding:"1em"}},F.map((function(e,t){return a.createElement(f,{key:e.date.getTime(),index:t,durationSeconds:e.duration/1e3,deltaSeconds:e.delta/1e3,timestamp:e.date})})))),a.createElement("div",{style:{padding:"1em"}},a.createElement(l,{bold:!0,style:{display:"block",textAlign:"center",fontSize:"60pt"}},(d=D,g=Math.floor(d/60),p=d%60,b=m.format(p),g+":"+b))),a.createElement(s,{onStart:R,onStop:T,onLap:I,isTimerRunning:O}))}}}]);
//# sourceMappingURL=component---src-pages-timer-js-1597ea2ff9e48f586a6e.js.map